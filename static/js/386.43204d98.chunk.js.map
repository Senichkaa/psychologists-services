{"version":3,"file":"static/js/386.43204d98.chunk.js","mappings":"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","sources":["components/Favorites/Favorites.styled.jsx","components/Favorites/Favorites.jsx","pages/FavoritePage.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const NotificationMessage = styled.p`\n  max-width: 1440px;\n  margin-top: 60px;\n  font-size: 35px;\n`;\n","import React, { useEffect, useState } from 'react';\nimport PsychologistCard from 'components/Psychologists/PsychologistCard/PsychologistCard';\nimport { auth } from '../../firebase';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { HeaderContainer } from 'components/Header/Header.styled';\nimport { NotificationMessage } from './Favorites.styled';\nimport { LoadMoreButton } from 'components/Psychologists/Psychologists.styled';\n\nconst Favorites = ({ filterOption }) => {\n  const [favoriteCards, setFavoriteCards] = useState([]);\n  const [viewFavoriteCards, setViewFavoriteCards] = useState(1);\n\n  const filterOptions = (cards, option) => {\n    switch (option) {\n      case 'A to Z':\n        return cards.slice().sort((a, b) => a.name.localeCompare(b.name));\n      case 'Z to A':\n        return cards.sort((a, b) => b.name.localeCompare(a.name));\n      case 'Less than 10$':\n        return cards.filter(person => person.price_per_hour < 10);\n      case 'Greater than 10$':\n        return cards.filter(person => person.price_per_hour > 10);\n      case 'Popular':\n        return cards.filter(person => person.rating > 4);\n      case 'Non popular':\n        return cards.filter(person => person.rating <= 4);\n      default:\n        return cards;\n    }\n  };\n\n  const filteredFavoriteCards = filterOptions(favoriteCards, filterOption);\n\n  const loadMoreHandler = () => {\n    const remainingCards = filteredFavoriteCards.length - viewFavoriteCards * 3;\n    const newCards = Math.min(3, remainingCards);\n    setViewFavoriteCards(previousCards => previousCards + newCards);\n  };\n\n  useEffect(() => {\n    const fetchFavorites = async () => {\n      try {\n        const userId = auth.currentUser?.uid;\n        if (userId) {\n          const storedFavorites =\n            (await JSON.parse(localStorage.getItem(`favorites-${userId}`))) ||\n            [];\n          setFavoriteCards(storedFavorites);\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    };\n\n    const dislike = onAuthStateChanged(auth, user => {\n      if (user) {\n        fetchFavorites();\n      }\n    });\n\n    return () => dislike();\n  }, []);\n\n  return (\n    <div>\n      {filteredFavoriteCards.length === 0 ? (\n        <HeaderContainer>\n          <NotificationMessage>\n            No favorites yet. You can choose it in catalog.\n          </NotificationMessage>\n        </HeaderContainer>\n      ) : (\n        <div>\n          {filteredFavoriteCards\n            .slice(0, viewFavoriteCards * 3)\n            .map((favoriteCard, index) => (\n              <PsychologistCard key={index} person={favoriteCard} />\n            ))}\n          {filteredFavoriteCards.length > viewFavoriteCards * 3 && (\n            <LoadMoreButton onClick={loadMoreHandler}>Load more</LoadMoreButton>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Favorites;\n","import React, { useState } from 'react';\nimport Favorites from 'components/Favorites/Favorites';\nimport { HeaderContainer } from 'components/Header/Header.styled';\nimport Filter from 'components/Filter/Filter';\n\nconst FavoritePage = () => {\n  const [filterOption, setFilterOption] = useState('Show all');\n\n  const changeFilterHandler = chosenOption => {\n    setFilterOption(chosenOption);\n  };\n\n  return (\n    <HeaderContainer>\n      <Filter onFilterSelect={changeFilterHandler} />\n      <Favorites filterOption={filterOption} />\n    </HeaderContainer>\n  );\n};\n\nexport default FavoritePage;\n"],"names":["NotificationMessage","styled","_templateObject","_taggedTemplateLiteral","_ref","filterOption","_useState","useState","_useState2","_slicedToArray","favoriteCards","setFavoriteCards","_useState3","_useState4","viewFavoriteCards","setViewFavoriteCards","filteredFavoriteCards","cards","option","slice","sort","a","b","name","localeCompare","filter","person","price_per_hour","rating","filterOptions","useEffect","fetchFavorites","_ref2","_asyncToGenerator","_regeneratorRuntime","_callee","_auth$currentUser","userId","storedFavorites","_context","prev","next","auth","uid","JSON","parse","localStorage","getItem","concat","t0","sent","t1","console","error","stop","apply","arguments","dislike","onAuthStateChanged","user","_jsx","children","length","HeaderContainer","_jsxs","map","favoriteCard","index","PsychologistCard","LoadMoreButton","onClick","remainingCards","newCards","Math","min","previousCards","setFilterOption","Filter","onFilterSelect","chosenOption","Favorites"],"sourceRoot":""}